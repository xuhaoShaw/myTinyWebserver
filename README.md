# myTinyWebserver
2021.12.01 - 2021.12.10 参考游双《Linux高性能服务器编程》，自学web服务器开发项目

## 简介
在Linux平台下用C++语言搭建基础版本的web服务器，实现多用户请求服务器的图片并及时响应

## 内容
- 使用 非阻塞socket + epoll水平触发 + 线程池 + 事件处理(模拟Proactor) 的并发模型
- 利用Epoll水平触发的IO多路复用技术，进行频繁响应，提高效率
- 使用多线程充分利用系统CPU，并使用线程池避免频繁创建和销毁的开销
- 对浏览器的GET请求进行处理，使用有限状态机解析HTTP请求报文，实现对服务器图片的请求

## 效果
### 开发环境

> - Ubuntu 18.04
> - gcc 7.5

### 编译

```c++
xh@xh:~/Linux/webserver$ g++ *.cpp -pthread
```

### 访问方式

- 在终端运行程序：./a.out 10000
- 输入 IP:端口号，如192.168.226.136:10000


## 压力测试

### 测试方式

在压力测试终端运行webbench程序：

```c++
./webbench -c 1000 -t 5 http://192.168.226.136:10000/index.html
```

其中，-c表示同时建立起多少个连接，-t表示连接的访问时间（单位s）

### 测试结果
![image-20220320161909269](https://user-images.githubusercontent.com/43106882/169474002-c4ed4d50-bf96-43d9-8e28-06cd3be9b4b0.png)

### 可完善之处

- 现在用proactor模式，可改为reactor模式；
- 现在用LT，可改为ET；
- 现在只支持get，可增加post功能；
- 定时器断开长时间没有响应的连接。
